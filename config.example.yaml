# Morpheus Configuration
# Copy this file to config.yaml or ~/.morpheus/config.yaml

# Infrastructure provider
infrastructure:
  provider: hetzner  # Currently only 'hetzner' and 'local' are supported
  
  # SSH key configuration
  ssh:
    key_name: morpheus  # Name for the SSH key (will be auto-uploaded to Hetzner)
    key_path: ""        # Optional: Path to your SSH public key (e.g., ~/.ssh/id_ed25519.pub)
                        # If not specified, Morpheus will search common locations

# Integration with NimsForest
integration:
  nimsforest_url: ""  # URL for NimsForest callbacks (optional)
  registry_url: ""    # Morpheus registry URL (optional)

# Provisioning settings
provisioning:
  readiness_timeout: "5m"   # How long to wait for servers to be ready
  readiness_interval: "10s" # How often to check server readiness
  ssh_port: 22              # SSH port for connectivity checks

# Secrets (can also be set via environment variables)
secrets:
  hetzner_api_token: ""  # Or set via HETZNER_API_TOKEN environment variable

# ─────────────────────────────────────────────────────────────────────────────
# ℹ️  Configuration Notes
# ─────────────────────────────────────────────────────────────────────────────
#
# Machine Types & Locations:
#   Morpheus automatically selects the best machine types and locations based
#   on your forest size (small/medium/large). You don't need to configure these!
#
# SSH Keys:
#   - Morpheus will automatically upload your SSH key to Hetzner if needed
#   - Default search locations: ~/.ssh/id_ed25519.pub, ~/.ssh/id_rsa.pub
#   - You can specify a custom key_path if your key is in a different location
#
# IPv6:
#   - All machines use IPv6 by default (IPv4 costs extra on Hetzner)
#   - Make sure your network has IPv6 connectivity
#   - Test with: morpheus check-ipv6
#
# API Token:
#   - Get yours at: https://console.hetzner.cloud/ → Security → API Tokens
#   - Needs "Read & Write" permissions
#   - Can be set here or via HETZNER_API_TOKEN environment variable
#
# Cost:
#   - small:  1 machine  ≈ €3-4/month   (perfect for testing)
#   - medium: 3 machines ≈ €9-12/month  (small production)
#   - large:  5 machines ≈ €15-20/month (larger deployment)
#   - Billed by the minute, can teardown anytime
#
# ─────────────────────────────────────────────────────────────────────────────
